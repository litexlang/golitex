have set R_pos = {x R: x > 0}
forall x R_pos, y R_pos: x > 0, y > 0, x * y > 0, x * y >= 0, sqrt(x * y) > 0, sqrt(x * y) $in R_pos
have fn geometric_mean(a, b R_pos) R_pos = sqrt(a * b)
have fn arithmetic_mean(a, b R) R = (a + b) / 2

prop positive_order_preserved_by_exponent(x, y R, z N_pos):
    x ^ z >= y ^ z
    x >= 0
    y >= 0
    <=>:
        x >= y

know forall x, y R, z N_pos: x ^ z >= y ^ z, x >= 0, y >= 0 => $positive_order_preserved_by_exponent(x, y, z)

forall x, y R: x >= 0, y >= 0, x ^ 2 >= y ^ 2 => $positive_order_preserved_by_exponent(x, y, 2)

prove forall a, b R_pos: geometric_mean(a, b) <= arithmetic_mean(a, b):
    geometric_mean(a, b) ^ 2 = (sqrt(a * b)) ^ 2
    a * b >= 0
    (sqrt(a * b)) ^ 2 = a * b
    arithmetic_mean(a, b) ^ 2 = ((a + b) / 2) ^ 2
    forall x R: x ^ 2 = x * x
    ((a + b) / 2) ^ 2 = ((a + b) / 2) * ((a + b) / 2)
    ((a + b) / 2) * ((a + b) / 2) = (a ^ 2 + 2 * a * b + b ^ 2) / 4
    arithmetic_mean(a, b) ^ 2 - geometric_mean(a, b) ^ 2 = (a ^ 2 + 2 * a * b + b ^ 2) / 4 - a * b = (a ^ 2 - 2 * a * b + b ^ 2) / 4 = (a - b) ^ 2 / 4
    (a - b) ^ 2 >= 0
    (a - b) ^ 2 / 4 >= 0
    arithmetic_mean(a, b) ^ 2 - geometric_mean(a, b) ^ 2 >= 0
    arithmetic_mean(a, b) ^ 2 >= geometric_mean(a, b) ^ 2
    a > 0, b > 0
    (a + b) > 0, (a + b) / 2 > 0
    (a + b) / 2 >= 0
    (a + b) / 2 = arithmetic_mean(a, b)
    arithmetic_mean(a, b) >= 0
    arithmetic_mean(a, b) >= 0, geometric_mean(a, b) > 0, geometric_mean(a, b) >= 0
    $greater_equal_pow_cancel(arithmetic_mean(a, b), geometric_mean(a, b), 2)
"""
have set R_pos = {x R: x > 0}\nforall x R_pos, y R_pos: x > 0, y > 0, x * y > 0, x * y >= 0, sqrt(x * y) > 0, sqrt(x * y) $in R_pos\nhave fn geometric_mean(a, b R_pos) R_pos = sqrt(a * b)\nhave fn arithmetic_mean(a, b R) R = (a + b) / 2\n\nprop positive_order_preserved_by_exponent(x, y R, z N_pos):\n    x ^ z >= y ^ z\n    x >= 0\n    y >= 0\n    <=>:\n        x >= y\n\nknow forall x, y R, z N_pos: x ^ z >= y ^ z, x >= 0, y >= 0 => $positive_order_preserved_by_exponent(x, y, z)\n\nforall x, y R: x >= 0, y >= 0, x ^ 2 >= y ^ 2 => $positive_order_preserved_by_exponent(x, y, 2)\n\nprove forall a, b R_pos: geometric_mean(a, b) <= arithmetic_mean(a, b):\n    geometric_mean(a, b) ^ 2 = (sqrt(a * b)) ^ 2\n    a * b >= 0\n    (sqrt(a * b)) ^ 2 = a * b\n    arithmetic_mean(a, b) ^ 2 = ((a + b) / 2) ^ 2\n    forall x R: x ^ 2 = x * x\n    ((a + b) / 2) ^ 2 = ((a + b) / 2) * ((a + b) / 2)\n    ((a + b) / 2) * ((a + b) / 2) = (a ^ 2 + 2 * a * b + b ^ 2) / 4\n    arithmetic_mean(a, b) ^ 2 - geometric_mean(a, b) ^ 2 = (a ^ 2 + 2 * a * b + b ^ 2) / 4 - a * b = (a ^ 2 - 2 * a * b + b ^ 2) / 4 = (a - b) ^ 2 / 4\n    (a - b) ^ 2 >= 0\n    (a - b) ^ 2 / 4 >= 0\n    arithmetic_mean(a, b) ^ 2 - geometric_mean(a, b) ^ 2 >= 0\n    arithmetic_mean(a, b) ^ 2 >= geometric_mean(a, b) ^ 2\n    a > 0, b > 0\n    (a + b) > 0, (a + b) / 2 > 0\n    (a + b) / 2 >= 0\n    (a + b) / 2 = arithmetic_mean(a, b)\n    arithmetic_mean(a, b) >= 0\n    arithmetic_mean(a, b) >= 0, geometric_mean(a, b) > 0, geometric_mean(a, b) >= 0\n    $greater_equal_pow_cancel(arithmetic_mean(a, b), geometric_mean(a, b), 2)\n
"""
