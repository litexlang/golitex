# 直线的一般式
have fn:
    line(a, b, c R) subsets(cart(R, R)):
        line(a, b, c) = {x cart(R, R): a * x[1] + b * x[2] = c}

    prove:
        have set s = {x cart(R, R): a * x[1] + b * x[2] = c}
        forall x s: x $in cart(R, R)
        s $is_subset_of cart(R, R)
    = s

# 平面的子集是一个直线
exist_prop a, b, c R st is_line(l subsets(cart(R, R))):
    l = line(a, b, c)

"""
know:
    forall a, b, c R:
        line(a, b, c) $in subsets(cart(R, R))
        line(a, b, c) $in set
        forall x line(a, b, c) => x $in cart(R, R)

forall x line(1, 1, 1):
    x $in cart(R, R)
    1 * x[1] + 1 * x[2] = 1

line(1, 1, 1) = {x cart(R, R): 1 * x[1] + 1 * x[2] = 1}

# 一般式可以化成点斜式
prove forall a, b, c R: a != 0 => line(a, b, c) = line(1, b/a, c/a):
    line(a, b, c) $in subsets(cart(R, R))
    line(a, b, c) $is_subset_of cart(R, R)

    forall x line(a, b, c):
        x $in cart(R, R)
        a * x[1] + b * x[2] = c
        (a * x[1] + b * x[2]) / a = c / a = x[1] + (b / a) * x[2]
        line(1, b/a, c/a) = {x cart(R, R): 1 * x[1] + (b / a) * x[2] = c / a}
        x $in line(1, b/a, c/a)

    forall x line(1, b/a, c/a):
        x[1] + (b / a) * x[2] = c / a
        a * (x[1] + (b / a) * x[2]) = a * x[1] + b * x[2] = a * (c / a) = c
        x $in line(a, b, c)
"""

prove forall l1, l2 set, a, b, c R: a != 0, l1 = {x cart(R, R): a * x[1] + b * x[2] = c}, l2 = {x cart(R, R): x[1] + (b / a) * x[2] = c / a} => l1 = l2:
    forall x l1:
        a * x[1] + b * x[2] = c
        x $in l2
    forall x l2:
        x $in l1